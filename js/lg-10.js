(globalThis.webpackChunksakurairo_scripts=globalThis.webpackChunksakurairo_scripts||[]).push([[441],{1363:function(e){var i,o,t,s,n,d,r,l,a;e.exports=(i=function(){return(i=Object.assign||function(e){for(var i,o=1,t=arguments.length;o<t;o++)for(var s in i=arguments[o])Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);return e}).apply(this,arguments)},o={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},t="lgHasVideo",s="lgSlideItemLoad",n="lgBeforeSlide",d="lgAfterSlide",r="lgPosterClick",l=function(e){return Object.keys(e).map((function(i){return encodeURIComponent(i)+"="+encodeURIComponent(e[i])})).join("&")},a=function(e,o){if(!e.youtube)return"";var t=e.youtube[2]?e.youtube[2].slice(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,i){var o=i.map(decodeURIComponent),t=o[0],s=o[1];return e[t]=s,e}),{}):"",s=o||{},n=i(i(i({},{wmode:"opaque",autoplay:0,mute:1,enablejsapi:1}),s),t);return"?"+l(n)},function(){function e(e){return this.core=e,this.settings=i(i({},o),this.core.settings),this}return e.prototype.init=function(){var e=this;this.core.LGel.on(t+".video",this.onHasVideo.bind(this)),this.core.LGel.on(r+".video",(function(){var i=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(i)})),this.core.LGel.on(s+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(n+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(d+".video",this.onAfterSlide.bind(this))},e.prototype.onSlideItemLoad=function(e){var i=this,o=e.detail,t=o.isFirstSlide,s=o.index;this.settings.autoplayFirstVideo&&t&&s===this.core.index&&setTimeout((function(){i.loadAndPlayVideo(s)}),200),!t&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s)},e.prototype.onHasVideo=function(e){var i=e.detail,o=i.index,t=i.src,s=i.html5Video;i.hasPoster||(this.appendVideos(this.core.getSlideItem(o),{src:t,addClass:"lg-object",index:o,html5Video:s}),this.gotoNextSlideOnVideoEnd(t,o))},e.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var i=e.detail.prevIndex;this.pauseVideo(i)}},e.prototype.onAfterSlide=function(e){var i=this,o=e.detail,t=o.index,s=o.prevIndex,n=this.core.getSlideItem(t);this.settings.autoplayVideoOnSlide&&t!==s&&n.hasClass("lg-complete")&&setTimeout((function(){i.loadAndPlayVideo(t)}),100)},e.prototype.loadAndPlayVideo=function(e){var i=this.core.getSlideItem(e);this.core.galleryItems[e].poster?this.loadVideoOnPosterClick(i,!0):this.playVideo(e)},e.prototype.playVideo=function(e){this.controlVideo(e,"play")},e.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},e.prototype.getVideoHtml=function(e,i,o,t){var s="",n=this.core.galleryItems[o].__slideVideoInfo||{},d=this.core.galleryItems[o],r=d.title||d.alt;r=r?'title="'+r+'"':"";var c='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(n.youtube){var u="lg-youtube"+o,h=a(n,this.settings.youTubePlayerParams);s='<iframe allow="autoplay" id='+u+' class="lg-video-object lg-youtube '+i+'" '+r+' src="'+(e.includes("youtube-nocookie.com")?"//www.youtube-nocookie.com/":"//www.youtube.com/")+"embed/"+(n.youtube[1]+h)+'" '+c+"></iframe>"}else if(n.vimeo){u="lg-vimeo"+o;var f=function(e,i){if(!i||!i.vimeo)return"";var o=i.vimeo[2]||"",t=e&&0!==Object.keys(e).length?"&"+l(e):"",s=((i.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],n=i.vimeo[1]!==s;return n&&(o=o.replace("/"+s,"")),"?autoplay=0&muted=1"+(n?"&h="+s:"")+t+("?"==o[0]?"&"+o.slice(1):o||"")}(this.settings.vimeoPlayerParams,n);s='<iframe allow="autoplay" id='+u+' class="lg-video-object lg-vimeo '+i+'" '+r+' src="//player.vimeo.com/video/'+(n.vimeo[1]+f)+'" '+c+"></iframe>"}else if(n.wistia){var p="lg-wistia"+o;f=(f=l(this.settings.wistiaPlayerParams))?"?"+f:"",s='<iframe allow="autoplay" id="'+p+'" src="//fast.wistia.net/embed/iframe/'+(n.wistia[4]+f)+'" '+r+' class="wistia_embed lg-video-object lg-wistia '+i+'" name="wistia_embed" '+c+"></iframe>"}else if(n.html5){for(var g="",m=0;m<t.source.length;m++)g+='<source src="'+t.source[m].src+'" type="'+t.source[m].type+'">';if(t.tracks){var v=function(e){var i="",o=t.tracks[e];Object.keys(o||{}).forEach((function(e){i+=e+'="'+o[e]+'" '})),g+="<track "+i+">"};for(m=0;m<t.tracks.length;m++)v(m)}var y="",w=t.attributes||{};Object.keys(w||{}).forEach((function(e){y+=e+'="'+w[e]+'" '})),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+y+">\n                "+g+"\n                Your browser does not support HTML5 video.\n            </video>"}return s},e.prototype.appendVideos=function(e,i){var o,t=this.getVideoHtml(i.src,i.addClass,i.index,i.html5Video);e.find(".lg-video-cont").append(t);var s=e.find(".lg-video-object").first();if(i.html5Video&&s.on("mousedown.lg.video",(function(e){e.stopPropagation()})),this.settings.videojs&&(null===(o=this.core.galleryItems[i.index].__slideVideoInfo)||void 0===o?void 0:o.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch(e){}},e.prototype.gotoNextSlideOnVideoEnd=function(e,i){var o=this,t=this.core.getSlideItem(i).find(".lg-video-object").first(),s=this.core.galleryItems[i].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(s.html5)t.on("ended",(function(){o.core.goToNextSlide()}));else if(s.vimeo)try{new Vimeo.Player(t.get()).on("ended",(function(){o.core.goToNextSlide()}))}catch(e){}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:t.attr("id"),onReady:function(e){e.bind("end",(function(){o.core.goToNextSlide()}))}})}catch(e){}},e.prototype.controlVideo=function(e,i){var o=this.core.getSlideItem(e).find(".lg-video-object").first(),t=this.core.galleryItems[e].__slideVideoInfo||{};if(o.get())if(t.youtube)try{o.get().contentWindow.postMessage('{"event":"command","func":"'+i+'Video","args":""}',"*")}catch(e){}else if(t.vimeo)try{new Vimeo.Player(o.get())[i]()}catch(e){}else if(t.html5)if(this.settings.videojs)try{videojs(o.get())[i]()}catch(e){}else o.get()[i]();else if(t.wistia)try{window._wq=window._wq||[],window._wq.push({id:o.attr("id"),onReady:function(e){e[i]()}})}catch(e){}},e.prototype.loadVideoOnPosterClick=function(e,i){var o=this;if(e.hasClass("lg-video-loaded"))i&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var t=void 0,s=this.core.galleryItems[this.core.index].src,n=this.core.galleryItems[this.core.index].video;n&&(t="string"==typeof n?JSON.parse(n):n);var d=this.appendVideos(e,{src:s,addClass:"",index:this.core.index,html5Video:t});this.gotoNextSlideOnVideoEnd(s,this.core.index);var r=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(r),e.addClass("lg-video-loading"),d&&d.ready((function(){d.on("loadedmetadata",(function(){o.onVideoLoadAfterPosterClick(e,o.core.index)}))})),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",(function(){setTimeout((function(){o.onVideoLoadAfterPosterClick(e,o.core.index)}),50)}))}},e.prototype.onVideoLoadAfterPosterClick=function(e,i){e.addClass("lg-video-loaded"),this.playVideo(i)},e.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},e}())}}]);
//# sourceMappingURL=lg-10.js.map